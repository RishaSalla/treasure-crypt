/* إعدادات الصفحة */
body {
    background-color: #111;
    color: white;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    touch-action: none;
    overflow: hidden;
}

.game-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    /* تكبير اللعبة لتكون واضحة جداً */
    transform: scale(1.6);
    transform-origin: center top;
}

.header { margin-bottom: 5px; text-align: center; }
.header h1 { font-size: 1rem; margin: 5px; color: #f1c40f; text-shadow: 2px 2px 0 #000; }
.stats span { font-size: 0.7rem; background: #333; padding: 2px 8px; border-radius: 4px; margin: 0 3px; border: 1px solid #555; }

/* حاوية اللعبة */
#game-container {
    position: relative;
    background-color: #0d0d0d;
    border: 4px solid #555;
    box-shadow: 0 0 30px rgba(0,0,0,1);
    margin-top: 5px;
}

/* === إعدادات الخلايا === */
.cell {
    width: 35px;
    height: 35px;
    position: absolute;
    box-sizing: border-box;
    display: flex;
    justify-content: center;
    align-items: center;
    /* خصائص عرض الصور */
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

/* 1. الجدار */
.wall {
    background-image: url('../assets/images/wall.svg');
    /* خلفية احتياطية في حال لم يتم تحميل الصورة */
    background-color: #7f8c8d; 
}

/* 2. الأرضية */
.floor {
    background-image: url('../assets/images/floor.svg');
}

/* 3. الهدف */
.goal {
    /* نستخدم نفس صورة الأرضية لكن نضيف علامة الهدف */
    background-image: url('../assets/images/floor.svg');
}
.goal::after {
    content: '';
    position: absolute;
    width: 35px; height: 35px;
    /* رسم دائرة الهدف فوق الأرضية */
    background: radial-gradient(circle, rgba(231,76,60,0.6) 20%, transparent 30%);
    border: 1px dashed #e74c3c;
    box-sizing: border-box;
}

/* 4. الصندوق */
.box {
    background-image: url('../assets/images/box.svg');
    z-index: 5;
    transition: left 0.1s linear, top 0.1s linear;
}

/* الصندوق المكتمل */
.box.completed {
    background-image: url('../assets/images/box_ok.svg');
    /* توهج خلفي بسيط */
    filter: drop-shadow(0 0 5px #f1c40f);
}

/* 5. اللاعب (المستكشف) */
.player {
    background-image: url('../assets/images/player.svg');
    z-index: 10;
    transition: left 0.1s linear, top 0.1s linear, transform 0.1s;
}

/* كلاس لعكس اتجاه اللاعب لليسار */
.player.facing-left {
    transform: scaleX(-1);
}

/* زر إعادة المحاولة */
.btn-reset {
    margin-top: 15px;
    padding: 6px 20px;
    background: #e67e22;
    border: none;
    border-bottom: 3px solid #d35400;
    color: white;
    font-weight: bold;
    cursor: pointer;
    border-radius: 4px;
}
.btn-reset:active { transform: translateY(3px); border-bottom: 0; }
.controls p { font-size: 0.6rem; color: #777; margin-top: 5px; }
