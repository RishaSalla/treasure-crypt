/* إعدادات الخط والخلفية العامة */
body {
    background-color: #111; /* خلفية داكنة جداً لبروز اللعبة */
    color: #eee;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    touch-action: none;
    /* هذا السطر مهم جداً لجعل البكسلات حادة وغير ضبابية */
    image-rendering: pixelated; 
}

.game-wrapper { display: flex; flex-direction: column; align-items: center; }
.header { margin-bottom: 10px; text-align: center; text-shadow: 2px 2px #000; }
.stats span { margin: 0 10px; font-size: 1rem; background: #333; padding: 5px 15px; border: 2px solid #555; border-radius: 4px; }

/* حاوية اللعبة */
#game-container {
    position: relative;
    background-color: #000; /* لون الفراغ */
    border: 4px solid #333;
    box-shadow: 0 0 40px rgba(0,0,0,1);
    box-sizing: content-box;
    /* خلفية افتراضية للأرضية */
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAAXNSR0IArs4c6QAAAEFJREFUWEft1TEBACAMwMDC514hGARtIJOA61XQ817g7Z61L2aNmTE1JkBNmQAlTYbMmLUxAWrKBCgps/8wcwGL3Q4hD6d9DQAAAABJRU5ErkJggg==');
}

/* === إعدادات الخلايا === */
.cell {
    width: 35px;
    height: 35px;
    position: absolute;
    box-sizing: border-box;
    display: flex;
    justify-content: center;
    align-items: center;
    background-size: cover; /* لتغطية كامل المربع بالصورة */
}

/* ======================== */
/* === صور البكسل آرت === */
/* ======================== */

/* 1. الجدار (Wall) - طوب رمادي قديم */
.wall {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAAXNSR0IArs4c6QAAAGBJREFUWEftmMEOwCAIBJ3//+f21LTSXUAsy8m8GEYCgq7qW4aR8V3V+xImExkRCRIhE54gE6Y/E5k8Z8R1Y5/tXg0TISN64QkyYfozkclzRlw39tnu1TA/I4O94w2l0A4h3K2ZqgAAAABJRU5ErkJggg==');
    border: none;
}

/* 2. الأرضية (Floor) - بلاط حجري داكن */
.floor {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAAXNSR0IArs4c6QAAAEFJREFUWEft1TEBACAMwMDC514hGARtIJOA61XQ817g7Z61L2aNmTE1JkBNmQAlTYbMmLUxAWrKBCgps/8wcwGL3Q4hD6d9DQAAAABJRU5ErkJggg==');
    border: none;
}

/* 3. الهدف (Goal) - علامة X ذهبية على الأرض */
.goal {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAAXNSR0IArs4c6QAAAF9JREFUWEft1TEOgCAQBMFF/P9zU1tMLCzUImJqM3k7LAt7qq9tj7n3XdUvMxfMjbkwAYoyAUpK/mTOXJgARZkAJSU35sz9wQxoZ7+mS6A9+039D2ZAH/+aLoG2B4j1DiFPm/8dAAAAAElFTkSuQmCC');
    border: none;
}
.goal::after { content: ''; /* إزالة علامة X النصية القديمة */ }

/* 4. الصندوق (Box) - صندوق خشبي */
.box {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAAXNSR0IArs4c6QAAAIdJREFUWEftmEsOgCAMBKnH8eQeTa3+kBgF040uTBb6mrbDAFf1E4aZ0Vf1LWEyISNKBAmTCU+QCdMficzbM+I7Y5+tXo0TISMqoQkyYfozkXl7Rnxn7LPVq3FCZFTrW/m+70aY55Vf1XqP/67qXU39eF0Jk4k+R6yGkYn/HLF6X2KeAI/3DiFB34aUAAAAAElFTkSuQmCC');
    background-color: transparent; /* إزالة اللون القديم */
    border: none;
    border-radius: 0;
    z-index: 5;
    /* حركة ناعمة عند الدفع */
    transition: all 0.1s ease-in-out;
}

/* 5. الصندوق المكتمل (Completed Box) - صندوق ذهبي متوهج */
.box.completed {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAAXNSR0IArs4c6QAAAJFJREFUWEftl0sOgCAMRKnH8eQeTa0RTIz8FNqFKSGvfToMcFXfYZgZfVXfEiYTMrJEkDCZ8ASZMP2RyLw9I74z9tnq1TjJMlJ7Y5d1RngkZKT2/j0zwiMhI+H/7JkRHgkZCa/3zIjPjH22ejVOskw7gG9bN8I8r/yq1mv8d1XvauqN15UwmeczYjWMTPwzYvW+xDwh3w4hG8U0bQAAAABJRU5ErkJggg==');
    border: none;
    box-shadow: 0 0 15px #ffd700; /* توهج ذهبي */
}

/* 6. الشخصية (Player) - مستكشف بكسل */
.player {
    /* صورة شخصية بكسل (وجه للأمام) */
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAAXNSR0IArs4c6QAAAKZJREFUWEftmFsOgCAMQ6nH8eQeTS2f8GE0bA0E+DDSPluHAtzVrxhmRlf1LWESkRFCBAmTCU+QCdMficx9ZsQ3Y5+tXg0TISNcQRMMm7H9Qj1zG6k7F653I0yETPz/bYc3v580n8g7R7e4k+YToQk2N29/1cI9mAjP3J253o2JkIn7mb8V5nnnV7Xe47+reldTb1xXwmTiMyNWw8jEMyNW70vMHX8/DiEt4Y0KAAAAAElFTkSuQmCC');
    background-color: transparent;
    border: none;
    border-radius: 0;
    z-index: 10;
    box-shadow: none;
    /* هذا هو السحر: حركة انسيابية للشخصية بين المربعات */
    transition: left 0.1s linear, top 0.1s linear;
}

/* زر إعادة الضبط بستايل بكسل */
.btn-reset {
    margin-top: 15px;
    padding: 8px 20px;
    background: #d35400;
    border: 3px solid #e67e22;
    color: #fff;
    font-family: 'Courier New', Courier, monospace; /* خط يشبه البكسل */
    font-weight: bold;
    cursor: pointer;
    text-transform: uppercase;
    box-shadow: 3px 3px 0px #000; /* ظل صلب */
}
.btn-reset:active {
    transform: translate(2px, 2px);
    box-shadow: 1px 1px 0px #000;
}
